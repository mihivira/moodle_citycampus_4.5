define(["jquery","core/chart_builder","core/chart_output_chartjs","core/ajax","local_hoteles_city_dashboard/jspdf"],function(o,r,l,c,e){return{init:function(e,t,n){var a;a=e,c.call([{methodname:"local_hoteles_city_dashboard_reports_uo",args:{data:{regions:t,type:n}}}])[0].done(function(e){var i,m=JSON.parse(e),s=(window.console.log("data:  ",m),document.getElementById("tbody")),u=document.getElementById("hdata"),e=(document.getElementById("tittable").innerHTML=m.graph.title,"users-download"==m.type?(document.getElementById("cont-table").className="col-12",document.getElementById("cont-graph").className="d-none",u.innerHTML="",i=document.createElement("tr")):(document.getElementById("cont-table").className="col-12",document.getElementById("cont-graph").className="col-12",u.innerHTML="",i=document.createElement("tr"),["Nombre","% Completado","% No completado"].forEach(function(e){var t=document.createElement("th");t.textContent=e,i.appendChild(t)}),u.appendChild(i)),m.table.elements.forEach(function(e,t){if("users-download"==m.type){window.console.log("users-download");var n,a=document.createElement("tr");if(t<1)for(var o in e){var r=document.createElement("th");r.textContent=o,i.appendChild(r)}for(n in u.appendChild(i),e){var l=document.createElement("td");l.textContent=e[n],a.appendChild(l),s.appendChild(a)}}else{window.console.log("table");var t=s.insertRow(t),c=t.insertCell(0),d=t.insertCell(1),t=t.insertCell(2);"courses"===e.type?c.innerHTML='<a class="link-uo" href="#" data-item="'+e.id+'">'+e.name+"</a>":"regions-cert"===e.type?c.innerHTML='<a class="link-uo" href="#" data-item="'+e.name+","+e.course+'" data-type="'+e.type+'">'+e.name+"</a>":"uos"===e.type?c.innerHTML=e.name:c.innerHTML='<a class="link-uo" href="#" data-item="'+e.name+'">'+e.name+"</a>",d.innerHTML=e.percentage,0<e.percentage?t.innerHTML=(100-Number(e.percentage)).toFixed(2):(t.innerHTML="N/A",d.innerHTML="N/A")}}),new Event("tablaLlena",{bubbles:!0,cancelable:!0}));document.getElementById("tdata").dispatchEvent(e);var t=o("#chart-area-"+a).find(".chart-image");r.make(m.graph).then(function(e){new l(t,e)}).fail(function(e){window.console.log(e)})})}}});